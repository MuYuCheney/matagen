import{d as $,ab as F,v as d,m as G,o as i,M as V,w as u,a as t,t as c,au as L,p as z,e as B,g as M,x as D,c as v,b as m,u as x,P as K,f as j,F as I,r as k,K as P,O as N,N as J,ah as Q}from"./index-f3f8eb0f.js";import{N as X,P as Y,S as Z,A as ee,V as te,G as ae,a as se,b as oe}from"./scrollbar-dcd7a61b.js";const le=s=>(z("data-v-f4fe43ee"),s=s(),B(),s),ne={class:"header"},re={class:"detail"},ie={class:"name"},ce={class:"content"},de={class:"item"},ue=le(()=>t("div",{class:"label"},"库房：",-1)),_e={class:"value"},pe=$({__name:"DetailDrawer",setup(s,{expose:w}){const o=F({showDrawer:!1,direction:"rtl",size:450,title:"订单详情"}),n=d();return w({openDrawer:async _=>{n.value=_,o.showDrawer=!0}}),G(()=>{document.querySelector(".drawer-modal").setAttribute("style","height: calc(100% - 64px) !important;top:auto;bottom:0;")}),(_,p)=>{const a=L;return i(),V(a,{modelValue:o.showDrawer,"onUpdate:modelValue":p[0]||(p[0]=r=>o.showDrawer=r),"modal-class":"drawer-modal",title:o.title,direction:o.direction,size:o.size},{header:u(()=>[t("div",ne,c(o.title),1)]),default:u(()=>{var r;return[t("div",re,[t("div",ie,"单号："+c((r=n.value)==null?void 0:r.OrderNo),1),t("div",ce,[t("div",de,[ue,t("div",_e,c(n.value&&n.value.WareHouseName?n.value.WareHouseName:"-"),1)])])])]}),_:1},8,["modelValue","title","direction","size"])}}});const ve=M(pe,[["__scopeId","data-v-f4fe43ee"]]),R=s=>(z("data-v-fad16e56"),s=s(),B(),s),he=R(()=>t("div",{class:"current-nav"},[t("div",{class:"current-nav-left"},"库存盘点")],-1)),me={class:"container"},we={class:"page-content"},fe={key:0,class:"card-list"},ge=["onClick"],Ce={class:"title"},ye={class:"title-index"},Se={class:"title-value"},be={class:"content"},De={class:"content-item"},xe=R(()=>t("span",{class:"content-label"},"库房：",-1)),Ie={class:"content-value"},ke={class:"card-item-btn-group"},Pe=$({__name:"index",setup(s){const w=j(),o=[X,Y,Z,ee,te],n=d(),g=D(()=>(a.value.CurrentPage-1)*a.value.PageSize),_=D(()=>Math.ceil(a.value.Total/a.value.PageSize)),p=d([]),a=d({CurrentPage:1,PageSize:15,Total:0}),r=d(-1),W=e=>{r.value=e},C=async()=>{const{data:e}=await ae();(e==null?void 0:e.ReturnStatus)===0?(p.value=e.Result,a.value={CurrentPage:1,PageSize:15,Total:e.Result.length}):K.error(e.ErrorMessage)};C();const A=d(),E=e=>{A.value=e},H=e=>{a.value.CurrentPage=e.activeIndex+1,C()},T=e=>{e.slideTo(a.value.CurrentPage-1)},O=e=>{var f;(f=n.value)==null||f.openDrawer(e)},q=e=>{w.push({path:"inventoruCheck/orderImplement",query:{Id:e.Id,WarehouseId:e.WareHouseId}})};return(e,f)=>{const y=Q;return i(),v("div",null,[he,t("div",me,[t("div",we,[m(x(oe),{modules:o,loop:!1,"slides-per-view":1,"space-between":0,virtual:"","watch-slides-progress":!0,watchSlidesVisibility:!0,"initial-slide":a.value.CurrentPage-1,pagination:{el:".swiper-pagination",type:"bullets",clickable:!0,dynamicBullets:!0,dynamicMainBullets:1,bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active"},class:"swiperBox",onSwiper:E,onSlideChange:H,onUpdate:T},{default:u(()=>[(i(!0),v(I,null,k(_.value,S=>(i(),V(x(se),{key:S,"virtual-index":S-1},{default:u(({isActive:U})=>[U?(i(),v("div",fe,[(i(!0),v(I,null,k(p.value,(l,h)=>(i(),v("div",{class:P(["card-item",{"swiper-card-active":r.value==h}]),key:h,onClick:b=>W(h)},[t("div",Ce,[t("div",ye,c(g.value+h+1),1),t("div",Se,"单号："+c(l.OrderNo),1)]),t("div",be,[t("div",De,[xe,t("span",Ie,c(l.WareHouseName?l.WareHouseName:"-"),1)])]),t("div",ke,[m(y,{class:"card-item-btn",type:"primary",plain:"",onClick:b=>O(l)},{default:u(()=>[N(" 查看 ")]),_:2},1032,["onClick"]),m(y,{class:"card-item-btn",type:"primary",plain:"",onClick:b=>q(l)},{default:u(()=>[N(" 订单执行 ")]),_:2},1032,["onClick"])]),t("div",{class:P(["card-tag",{"not-call":l.CompleteStatus=="1","had-call":l.CompleteStatus=="3","finish-call":l.CompleteStatus=="4"}])},c(l.CompleteStatusName),3)],10,ge))),128))])):J("",!0)]),_:2},1032,["virtual-index"]))),128))]),_:1},8,["initial-slide"])])]),m(ve,{ref_key:"detailDrawerRef",ref:n},null,512)])}}});const Ve=M(Pe,[["__scopeId","data-v-fad16e56"]]);export{Ve as default};
