import{d as $,a1 as U,A as d,h as F,o as i,i as V,w as u,a as t,t as c,al as L,p as z,e as B,g as A,q as D,c as v,b as m,u as k,G as j,f as J,F as x,r as I,j as P,l as N,k as K,a7 as Q}from"./index-f0087198.js";import{N as X,P as Y,S as Z,A as ee,V as te,G as ae,a as se,b as oe}from"./scrollbar-0ea58773.js";/* empty css                   */const le=s=>(z("data-v-f4fe43ee"),s=s(),B(),s),ne={class:"header"},re={class:"detail"},ie={class:"name"},ce={class:"content"},de={class:"item"},ue=le(()=>t("div",{class:"label"},"库房：",-1)),_e={class:"value"},pe=$({__name:"DetailDrawer",setup(s,{expose:w}){const o=U({showDrawer:!1,direction:"rtl",size:450,title:"订单详情"}),n=d();return w({openDrawer:async _=>{n.value=_,o.showDrawer=!0}}),F(()=>{document.querySelector(".drawer-modal").setAttribute("style","height: calc(100% - 64px) !important;top:auto;bottom:0;")}),(_,p)=>{const a=L;return i(),V(a,{modelValue:o.showDrawer,"onUpdate:modelValue":p[0]||(p[0]=r=>o.showDrawer=r),"modal-class":"drawer-modal",title:o.title,direction:o.direction,size:o.size},{header:u(()=>[t("div",ne,c(o.title),1)]),default:u(()=>{var r;return[t("div",re,[t("div",ie,"单号："+c((r=n.value)==null?void 0:r.OrderNo),1),t("div",ce,[t("div",de,[ue,t("div",_e,c(n.value&&n.value.WareHouseName?n.value.WareHouseName:"-"),1)])])])]}),_:1},8,["modelValue","title","direction","size"])}}});const ve=A(pe,[["__scopeId","data-v-f4fe43ee"]]),R=s=>(z("data-v-fad16e56"),s=s(),B(),s),he=R(()=>t("div",{class:"current-nav"},[t("div",{class:"current-nav-left"},"库存盘点")],-1)),me={class:"container"},we={class:"page-content"},fe={key:0,class:"card-list"},ge=["onClick"],Ce={class:"title"},ye={class:"title-index"},Se={class:"title-value"},be={class:"content"},De={class:"content-item"},ke=R(()=>t("span",{class:"content-label"},"库房：",-1)),xe={class:"content-value"},Ie={class:"card-item-btn-group"},Pe=$({__name:"index",setup(s){const w=J(),o=[X,Y,Z,ee,te],n=d(),g=D(()=>(a.value.CurrentPage-1)*a.value.PageSize),_=D(()=>Math.ceil(a.value.Total/a.value.PageSize)),p=d([]),a=d({CurrentPage:1,PageSize:15,Total:0}),r=d(-1),W=e=>{r.value=e},C=async()=>{const{data:e}=await ae();(e==null?void 0:e.ReturnStatus)===0?(p.value=e.Result,a.value={CurrentPage:1,PageSize:15,Total:e.Result.length}):j.error(e.ErrorMessage)};C();const E=d(),H=e=>{E.value=e},M=e=>{a.value.CurrentPage=e.activeIndex+1,C()},T=e=>{e.slideTo(a.value.CurrentPage-1)},q=e=>{var f;(f=n.value)==null||f.openDrawer(e)},G=e=>{w.push({path:"inventoruCheck/orderImplement",query:{Id:e.Id,WarehouseId:e.WareHouseId}})};return(e,f)=>{const y=Q;return i(),v("div",null,[he,t("div",me,[t("div",we,[m(k(oe),{modules:o,loop:!1,"slides-per-view":1,"space-between":0,virtual:"","watch-slides-progress":!0,watchSlidesVisibility:!0,"initial-slide":a.value.CurrentPage-1,pagination:{el:".swiper-pagination",type:"bullets",clickable:!0,dynamicBullets:!0,dynamicMainBullets:1,bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active"},class:"swiperBox",onSwiper:H,onSlideChange:M,onUpdate:T},{default:u(()=>[(i(!0),v(x,null,I(_.value,S=>(i(),V(k(se),{key:S,"virtual-index":S-1},{default:u(({isActive:O})=>[O?(i(),v("div",fe,[(i(!0),v(x,null,I(p.value,(l,h)=>(i(),v("div",{class:P(["card-item",{"swiper-card-active":r.value==h}]),key:h,onClick:b=>W(h)},[t("div",Ce,[t("div",ye,c(g.value+h+1),1),t("div",Se,"单号："+c(l.OrderNo),1)]),t("div",be,[t("div",De,[ke,t("span",xe,c(l.WareHouseName?l.WareHouseName:"-"),1)])]),t("div",Ie,[m(y,{class:"card-item-btn",type:"primary",plain:"",onClick:b=>q(l)},{default:u(()=>[N(" 查看 ")]),_:2},1032,["onClick"]),m(y,{class:"card-item-btn",type:"primary",plain:"",onClick:b=>G(l)},{default:u(()=>[N(" 订单执行 ")]),_:2},1032,["onClick"])]),t("div",{class:P(["card-tag",{"not-call":l.CompleteStatus=="1","had-call":l.CompleteStatus=="3","finish-call":l.CompleteStatus=="4"}])},c(l.CompleteStatusName),3)],10,ge))),128))])):K("",!0)]),_:2},1032,["virtual-index"]))),128))]),_:1},8,["initial-slide"])])]),m(ve,{ref_key:"detailDrawerRef",ref:n},null,512)])}}});const ze=A(Pe,[["__scopeId","data-v-fad16e56"]]);export{ze as default};
