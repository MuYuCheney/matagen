import{d as $,ab as U,v as d,m as F,o as i,N as V,w as u,a as t,t as c,av as G,p as z,e as B,g as R,x as D,c as v,b as m,u as x,P as K,f as Q,F as I,r as k,L as P,Q as N,K as j,ah as J}from"./index-4de10589.js";import{N as X,P as Y,S as Z,A as ee,V as te,G as ae,a as se,b as oe}from"./scrollbar-dd5b03b2.js";const le=s=>(z("data-v-61e7b49c"),s=s(),B(),s),ne={class:"header"},re={class:"detail"},ie={class:"name"},ce={class:"content"},de={class:"item"},ue=le(()=>t("div",{class:"label"},"库房：",-1)),_e={class:"value"},pe=$({__name:"DetailDrawer",setup(s,{expose:w}){const o=U({showDrawer:!1,direction:"rtl",size:450,title:"订单详情"}),n=d();return w({openDrawer:async _=>{n.value=_,o.showDrawer=!0}}),F(()=>{document.querySelector(".drawer-modal").setAttribute("style","height: calc(100% - 64px) !important;top:auto;bottom:0;")}),(_,p)=>{const a=G;return i(),V(a,{modelValue:o.showDrawer,"onUpdate:modelValue":p[0]||(p[0]=r=>o.showDrawer=r),"modal-class":"drawer-modal",title:o.title,direction:o.direction,size:o.size},{header:u(()=>[t("div",ne,c(o.title),1)]),default:u(()=>{var r;return[t("div",re,[t("div",ie,"单号："+c((r=n.value)==null?void 0:r.OrderNo),1),t("div",ce,[t("div",de,[ue,t("div",_e,c(n.value&&n.value.WareHouseName?n.value.WareHouseName:"-"),1)])])])]}),_:1},8,["modelValue","title","direction","size"])}}});const ve=R(pe,[["__scopeId","data-v-61e7b49c"]]),W=s=>(z("data-v-c272082d"),s=s(),B(),s),he=W(()=>t("div",{class:"current-nav"},[t("div",{class:"current-nav-left"},"库存盘点")],-1)),me={class:"container"},we={class:"page-content"},ge={key:0,class:"card-list"},Ce=["onClick"],ye={class:"title"},be={class:"title-index"},fe={class:"title-value"},Se={class:"content"},De={class:"content-item"},xe=W(()=>t("span",{class:"content-label"},"库房：",-1)),Ie={class:"content-value"},ke={class:"card-item-btn-group"},Pe=$({__name:"index",setup(s){const w=Q(),o=[X,Y,Z,ee,te],n=d(),C=D(()=>(a.value.CurrentPage-1)*a.value.PageSize),_=D(()=>Math.ceil(a.value.Total/a.value.PageSize)),p=d([]),a=d({CurrentPage:1,PageSize:15,Total:0}),r=d(-1),A=e=>{r.value=e},y=async()=>{const{data:e}=await ae();(e==null?void 0:e.ReturnStatus)===0?(p.value=e.Result,a.value={CurrentPage:1,PageSize:15,Total:e.Result.length}):K.error(e.ErrorMessage)};y();const E=d(),H=e=>{E.value=e},M=e=>{a.value.CurrentPage=e.activeIndex+1,y()},T=e=>{e.slideTo(a.value.CurrentPage-1)},q=e=>{var g;(g=n.value)==null||g.openDrawer(e)},L=e=>{w.push({path:"inventoruCheck/orderImplement",query:{Id:e.Id,WarehouseId:e.WareHouseId}})};return(e,g)=>{const b=J;return i(),v("div",null,[he,t("div",me,[t("div",we,[m(x(oe),{modules:o,loop:!1,"slides-per-view":1,"space-between":0,virtual:"","watch-slides-progress":!0,watchSlidesVisibility:!0,"initial-slide":a.value.CurrentPage-1,pagination:{el:".swiper-pagination",type:"bullets",clickable:!0,dynamicBullets:!0,dynamicMainBullets:1,bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active"},class:"swiperBox",onSwiper:H,onSlideChange:M,onUpdate:T},{default:u(()=>[(i(!0),v(I,null,k(_.value,f=>(i(),V(x(se),{key:f,"virtual-index":f-1},{default:u(({isActive:O})=>[O?(i(),v("div",ge,[(i(!0),v(I,null,k(p.value,(l,h)=>(i(),v("div",{class:P(["card-item",{"swiper-card-active":r.value==h}]),key:h,onClick:S=>A(h)},[t("div",ye,[t("div",be,c(C.value+h+1),1),t("div",fe,"单号："+c(l.OrderNo),1)]),t("div",Se,[t("div",De,[xe,t("span",Ie,c(l.WareHouseName?l.WareHouseName:"-"),1)])]),t("div",ke,[m(b,{class:"card-item-btn",type:"primary",plain:"",onClick:S=>q(l)},{default:u(()=>[N(" 查看 ")]),_:2},1032,["onClick"]),m(b,{class:"card-item-btn",type:"primary",plain:"",onClick:S=>L(l)},{default:u(()=>[N(" 订单执行 ")]),_:2},1032,["onClick"])]),t("div",{class:P(["card-tag",{"not-call":l.CompleteStatus=="1","had-call":l.CompleteStatus=="3","finish-call":l.CompleteStatus=="4"}])},c(l.CompleteStatusName),3)],10,Ce))),128))])):j("",!0)]),_:2},1032,["virtual-index"]))),128))]),_:1},8,["initial-slide","pagination"])])]),m(ve,{ref_key:"detailDrawerRef",ref:n},null,512)])}}});const Ve=R(Pe,[["__scopeId","data-v-c272082d"]]);export{Ve as default};
