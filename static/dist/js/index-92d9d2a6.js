import{d as b,m as d,c as m,b as s,a as o,t as h,F as q,r as A,O as D,o as _,_ as v,D as N,B as w,Z as g,w as u,C as F,ar as K,R as L,S as O,e as j}from"./index-0fc4054b.js";const z={class:"list-home animated-div"},M={class:"add-text"},Z={class:"list"},G=["onClick"],H={class:"item-more-content"},J={class:"el-dropdown-link"},P={class:"item-opt"},Q=["onClick"],W={key:0,class:"item-opt-content-name"},X={key:1,class:"item-opt-content-name"},Y=["onClick"],ee={class:"item-content item-content-update"},te=b({__name:"index",props:{title:{type:String,default:()=>""},sessionType:{type:String,default:()=>""},list:{type:Array,default:()=>[]}},emits:["addSession","querySession","editSession","editSessionName","deleteSession"],setup(i,{emit:x}){const S=d(),k=d("");d(!1);const a=d(""),B=function(e){k.value=e.id,l("querySession",e)},I=function(){l("addSession")},E=function(e){const t=Object.assign({},e);t.name=a.value,l("editSessionName",t)},U=function(e){e.isUpdate=!1,a.value=""},y=d(),V=function(e,t,r){var p;r==="KB"?(e.isUpdate=!0,a.value=e.name,y.value=t,(p=S.value[t])==null||p.focus()):r==="DB"&&l("editSession",e)},$=function(e){l("deleteSession",e),document.querySelectorAll(".item-more-content-el-dropdown").forEach(function(t){t.style.display="none"})},l=x;return(e,t)=>{const r=K,p=D("Select"),C=L,R=D("CloseBold"),T=O;return _(),m("div",z,[s("div",{class:"add",onClick:I},[o(v,{"icon-class":"layoutAdd",className:"add-svg"}),s("div",M,h(i.title),1)]),s("div",Z,[(_(!0),m(q,null,A(i.list,(n,f)=>(_(),m("div",{class:N(["list-item",{"list-item-active":k.value==n.id}]),key:f},[w(s("div",{class:N(["item-content",{"item-content-db":i.sessionType==="DB"}])},[s("div",{class:"item-name",onClick:c=>B(n)},h(n.name),9,G),s("div",H,[o(r,{trigger:"click","popper-class":"item-more-content-el-dropdown",teleported:!1},{dropdown:u(()=>[s("div",P,[s("div",{class:"item-opt-content",onClick:c=>V(n,f,i.sessionType)},[o(v,{"icon-class":"icon_edit",className:"icon-edit"}),i.sessionType==="KB"?(_(),m("div",W,"重命名")):i.sessionType==="DB"?(_(),m("div",X,"编辑")):F("",!0)],8,Q),s("div",{class:"item-opt-content",onClick:c=>$(n)},[o(v,{"icon-class":"icon_delete",className:"icon-delete"}),t[1]||(t[1]=s("div",{class:"item-opt-content-name"},"删除",-1))],8,Y)])]),default:u(()=>[s("div",J,[o(v,{"icon-class":"itemMore",className:"item-more"})])]),_:2},1024)])],2),[[g,!n.isUpdate||y.value!==f]]),w(s("div",ee,[o(T,{ref_for:!0,ref_key:"updateInputRef",ref:S,modelValue:a.value,"onUpdate:modelValue":t[0]||(t[0]=c=>a.value=c),style:{width:"100%"},placeholder:"请输入",class:"edit-input-item"},{suffix:u(()=>[o(C,{color:"#D0D5DE",class:"edit-item-suffix-icon",onClick:c=>E(n),style:{cursor:"default"}},{default:u(()=>[o(p)]),_:2},1032,["onClick"]),o(C,{color:"#D0D5DE",style:{"margin-left":"6px",cursor:"default"},class:"edit-item-suffix-icon",onClick:c=>U(n)},{default:u(()=>[o(R)]),_:2},1032,["onClick"])]),_:2},1032,["modelValue"])],512),[[g,n.isUpdate&&y.value===f]])],2))),128))])])}}});const oe=j(te,[["__scopeId","data-v-058f03a8"]]);export{oe as S};
