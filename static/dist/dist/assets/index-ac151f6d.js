import{d as $,ac as F,q as d,l as G,o as r,N as V,w as u,e as t,t as c,aw as L,p as z,b as B,f as M,v as D,c as v,a as m,M as x,P as J,u as K,F as I,r as k,K as P,Q as N,J as Q,ai as j}from"./index-5671d420.js";import{N as X,P as Y,S as Z,A as ee,V as te,G as ae,a as se,b as oe}from"./scrollbar-59c7eccf.js";const le=s=>(z("data-v-61e7b49c"),s=s(),B(),s),ne={class:"header"},ie={class:"detail"},re={class:"name"},ce={class:"content"},de={class:"item"},ue=le(()=>t("div",{class:"label"},"库房：",-1)),_e={class:"value"},pe=$({__name:"DetailDrawer",setup(s,{expose:w}){const o=F({showDrawer:!1,direction:"rtl",size:450,title:"订单详情"}),n=d();return w({openDrawer:async _=>{n.value=_,o.showDrawer=!0}}),G(()=>{document.querySelector(".drawer-modal").setAttribute("style","height: calc(100% - 64px) !important;top:auto;bottom:0;")}),(_,p)=>{const a=L;return r(),V(a,{modelValue:o.showDrawer,"onUpdate:modelValue":p[0]||(p[0]=i=>o.showDrawer=i),"modal-class":"drawer-modal",title:o.title,direction:o.direction,size:o.size},{header:u(()=>[t("div",ne,c(o.title),1)]),default:u(()=>{var i;return[t("div",ie,[t("div",re,"单号："+c((i=n.value)==null?void 0:i.OrderNo),1),t("div",ce,[t("div",de,[ue,t("div",_e,c(n.value&&n.value.WareHouseName?n.value.WareHouseName:"-"),1)])])])]}),_:1},8,["modelValue","title","direction","size"])}}});const ve=M(pe,[["__scopeId","data-v-61e7b49c"]]),R=s=>(z("data-v-c272082d"),s=s(),B(),s),he=R(()=>t("div",{class:"current-nav"},[t("div",{class:"current-nav-left"},"库存盘点")],-1)),me={class:"container"},we={class:"page-content"},ge={key:0,class:"card-list"},Ce=["onClick"],ye={class:"title"},fe={class:"title-index"},Se={class:"title-value"},be={class:"content"},De={class:"content-item"},xe=R(()=>t("span",{class:"content-label"},"库房：",-1)),Ie={class:"content-value"},ke={class:"card-item-btn-group"},Pe=$({__name:"index",setup(s){const w=K(),o=[X,Y,Z,ee,te],n=d(),C=D(()=>(a.value.CurrentPage-1)*a.value.PageSize),_=D(()=>Math.ceil(a.value.Total/a.value.PageSize)),p=d([]),a=d({CurrentPage:1,PageSize:15,Total:0}),i=d(-1),W=e=>{i.value=e},y=async()=>{const{data:e}=await ae();(e==null?void 0:e.ReturnStatus)===0?(p.value=e.Result,a.value={CurrentPage:1,PageSize:15,Total:e.Result.length}):J.error(e.ErrorMessage)};y();const A=d(),E=e=>{A.value=e},H=e=>{a.value.CurrentPage=e.activeIndex+1,y()},T=e=>{e.slideTo(a.value.CurrentPage-1)},q=e=>{var g;(g=n.value)==null||g.openDrawer(e)},O=e=>{w.push({path:"inventoruCheck/orderImplement",query:{Id:e.Id,WarehouseId:e.WareHouseId}})};return(e,g)=>{const f=j;return r(),v("div",null,[he,t("div",me,[t("div",we,[m(x(oe),{modules:o,loop:!1,"slides-per-view":1,"space-between":0,virtual:"","watch-slides-progress":!0,watchSlidesVisibility:!0,"initial-slide":a.value.CurrentPage-1,pagination:{el:".swiper-pagination",type:"bullets",clickable:!0,dynamicBullets:!0,dynamicMainBullets:1,bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active"},class:"swiperBox",onSwiper:E,onSlideChange:H,onUpdate:T},{default:u(()=>[(r(!0),v(I,null,k(_.value,S=>(r(),V(x(se),{key:S,"virtual-index":S-1},{default:u(({isActive:U})=>[U?(r(),v("div",ge,[(r(!0),v(I,null,k(p.value,(l,h)=>(r(),v("div",{class:P(["card-item",{"swiper-card-active":i.value==h}]),key:h,onClick:b=>W(h)},[t("div",ye,[t("div",fe,c(C.value+h+1),1),t("div",Se,"单号："+c(l.OrderNo),1)]),t("div",be,[t("div",De,[xe,t("span",Ie,c(l.WareHouseName?l.WareHouseName:"-"),1)])]),t("div",ke,[m(f,{class:"card-item-btn",type:"primary",plain:"",onClick:b=>q(l)},{default:u(()=>[N(" 查看 ")]),_:2},1032,["onClick"]),m(f,{class:"card-item-btn",type:"primary",plain:"",onClick:b=>O(l)},{default:u(()=>[N(" 订单执行 ")]),_:2},1032,["onClick"])]),t("div",{class:P(["card-tag",{"not-call":l.CompleteStatus=="1","had-call":l.CompleteStatus=="3","finish-call":l.CompleteStatus=="4"}])},c(l.CompleteStatusName),3)],10,Ce))),128))])):Q("",!0)]),_:2},1032,["virtual-index"]))),128))]),_:1},8,["initial-slide","pagination"])])]),m(ve,{ref_key:"detailDrawerRef",ref:n},null,512)])}}});const Ve=M(Pe,[["__scopeId","data-v-c272082d"]]);export{Ve as default};
